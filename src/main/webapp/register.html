<!DOCTYPE HTML>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>会员注册</title>
<link rel="stylesheet" href="css/register.css" type="text/css">
<script src="js/jquery-1.4.3.min.js"></script>
</head>
<body>
<div id=payment>
    <fieldset>
        <legend>用户基本信息</legend>
        <ol>
            <li>
                <label for=name>帐号:</label>
                <input id=name name=name type=text placeholder="请输入用户名" required autofocus>
            </li>
            <li>
                <label for=password>密码:</label>
                <input id=password name=password type=password placeholder="请设置密码" required>
            </li>
            <li>
                <label for=pwd2>确认密码:</label>
                <input id=pwd2 name=pwd2 type=password placeholder="再次确认密码" required>
            </li>
			<li>
                <label for=phone>手机号</label>
                <input id=phone name=phone type=text placeholder="例如:18883288282" required>
            </li>
            <li>
                <label for=realname>真实姓名:</label>
                <input id=realname name=realname type=text placeholder="真实姓名" required>
            </li>
			<li>
                <label for=idcard>身份证:</label>
                <input id=idcard name=idcard type=text placeholder="身份证信息" required>
            </li>
            <li>
                <label for=phone>邮箱:</label>
                <input id=email name=email type=text placeholder="邮箱地址" required>
            </li>
        </ol>
    </fieldset>
	<fieldset>
        <button id="register">立刻注册</button>
    </fieldset>
</div>
<script>
	$("#register").click(function(){
		var json = {
		        "username": $("#name").val(),
		        "password": $("#password").val(),
		        "phone": $("#phone").val(),
		        "name": $("#realname").val(),
		        "idcard": $("#idcard").val(),
                "email":$("#email").val()
		    };
		$.ajax({
			type:"post",
	        url: "/user/register.action",
	        data:json,
	        dataType: "json",
	        success: function (data) {
	          if(data['code']==1){
	              alert("注册成功");
	              window.location.href="/login.html";
              }else{
	              alert("帐号已存在");
              }
	        },
	    });
	});
</script>
</body>
</html>
